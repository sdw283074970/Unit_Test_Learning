# 松耦合与可测试设计 Loosely-coupled And Testable Designs
本篇记录了松耦合与可测试设计之间的关系

### 松耦合设计与测试的关系是什么？
只有松耦合结构的代码才具备可测试性。在实际情况中，项目可能继承大量多年前的代码，这些代码在编写的过程中可能没有考虑到会进行单元测试，导致无法对其进行单元测试。如果想单元测试这些"遗产代码"，就需要将这些代码重构，使其具备可测试性。

### 为什么只有松耦合结构的代码才可测试？
紧耦合代码不符合单元测试的基本条件，即单元测试对象必须为隔离状态，不能与外部资源有联系。遇到必须与外部资源有联系的方法，紧耦合结构就直接丧失可测试性。而松耦合结构代码可以通过在运行时将外部资源对象替换成一个空壳对象，达到不真正与外部资源联系的目的，从而具备可测试性。这种空壳对象被称为**假对象(Fake Object)**或**测试替身(Test Double)**。
