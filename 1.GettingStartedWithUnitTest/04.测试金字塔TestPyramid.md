# 测试金字塔TestPyramid
本篇记录了测试的金字塔结构

### 知道有三种测试，应该用哪一种测试比较好？
单元测试、集成测试、端对端测试都应该一起写在测试代码中。

这三种测试并不是并列选择，而是线性过程，即一个产品首先应该通过单元测试，再是集成测试，最后是端对端测试。

### 什么是测试金字塔？
测试金字塔是一个理论，其主张了三种测试应该在一个项目中占的比重：

* 单元测试：位于金字塔底层，应该投入最多精力，因为单元很多，但测试容易写且执行块
* 集成测试：位于金字塔中层，应投入部分精力，主要用来测试连接了外部依赖的整体功能，提升部署自信
* 端对端测试：位于金字塔顶层，即只应写最少的端对端测试来测试涉及UI的核心功能，细节功能应留给单元测试

测试金字塔仅仅是一个行业指导，实际的比重应具体应用应具体分析。

如，以算法为重点的应用应该写大量的单元测试，而一个只有简单逻辑但涉及大量数据交互的应用，则集成测试更重要。

测试金字塔理论带来的三个核心建议可以直接使用，即：

* 赞成从单元测试到集成测试再到端对端测试的线性测试路线
* 用集成测试覆盖单元测试的缺陷
* 尽可能少的使用端对端双向测试

三者的比重平衡需要测试者自己权衡。

暂时想到这么多，最后更新2018/04/20
